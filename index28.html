<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bible Quiz: Key of David</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: url('https://64.media.tumblr.com/10143ca52c076560176ebaf38fe84dd0/e451cd126b0ac1b3-b9/s1280x1920/3db49ad935f9fe556209ebb7a997456ae7d41ca7.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #fff;
            text-align: center;
            padding: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        }
        .quiz-container {
            background-color: rgba(60, 30, 0, 0.85);
            border-radius: 15px;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 0 25px rgba(200, 150, 0, 0.6);
            border: 2px solid #aa7700;
        }
        h1 {
            color: #ffcc55;
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 200, 50, 0.5);
        }
        .bible-ref {
            font-style: italic;
            color: #ffdd99;
            margin-bottom: 20px;
        }
        .quiz-image {
            width: 100%;
            max-width: 400px;
            border: 3px solid #aa7700;
            border-radius: 10px;
            margin: 15px auto;
            box-shadow: 0 0 15px rgba(200, 150, 0, 0.6);
        }
        .question {
            font-size: 20px;
            margin: 20px 0;
            font-weight: bold;
            color: #ffffff;
        }
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin: 25px 0;
        }
        .option {
            background-color: rgba(100, 60, 0, 0.5);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            border: 1px solid #aa7700;
            color: #fff8e6;
        }
        .option:hover {
            background-color: rgba(150, 90, 0, 0.6);
            transform: scale(1.02);
            box-shadow: 0 0 10px rgba(200, 150, 0, 0.4);
        }
        .correct {
            background-color: rgba(50, 205, 50, 0.6) !important;
            font-weight: bold;
            border-color: #2e8b57;
        }
        .incorrect {
            background-color: rgba(220, 20, 60, 0.6) !important;
            border-color: #dc143c;
        }
        .feedback-icon {
            position: absolute;
            right: 15px;
            font-size: 22px;
        }
        .explanation {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.5);
            border-left: 4px solid #aa7700;
            text-align: left;
            display: none;
            border-radius: 5px;
            color: #fff8e6;
        }
        .participate-btn {
            background: linear-gradient(135deg, #aa7700, #775500);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            display: none;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(200, 150, 0, 0.4);
            transition: all 0.3s;
        }
        .participate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(200, 150, 0, 0.6);
        }
        .timer {
            font-size: 34px;
            color: #ffcc55;
            margin: 15px 0;
            font-weight: bold;
            text-shadow: 0 0 15px rgba(255, 200, 50, 0.8);
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 20px;
            border-radius: 10px;
            display: inline-block;
            border: 1px solid #ffcc55;
            animation: pulse 1.5s infinite alternate;
        }
        @keyframes pulse {
            from { 
                opacity: 1;
                box-shadow: 0 0 10px rgba(255, 200, 50, 0.5);
            }
            to { 
                opacity: 0.7;
                box-shadow: 0 0 20px rgba(255, 200, 50, 0.8);
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>BIBLE QUIZ: KEY OF DAVID</h1>
        <div class="bible-ref">Revelation 3</div>
        <div class="timer" id="timer">30</div>
        
        <img src="https://www.thetrumpet.com/files/W1siZiIsIjIwMTcvMDMvMDcvM215cmQ5bXFhYV9maWxlIl0sWyJwIiwidGh1bWIiLCIxMDI0eCJdLFsicCIsImVuY29kZSIsImpwZyIsIi1xdWFsaXR5IDgwIl1d/0ba95a482a36bdcd/locus_9283.jpg.jpg" alt="Key of David" class="quiz-image">
        
        <div class="question">How many keys belong to David mentioned in Revelation 3?</div>
        
        <div class="options">
            <div class="option" onclick="checkAnswer(this, true)">1 key</div>
            <div class="option" onclick="checkAnswer(this, false)">3 keys</div>
            <div class="option" onclick="checkAnswer(this, false)">7 keys</div>
            <div class="option" onclick="checkAnswer(this, false)">12 keys</div>
        </div>
        
        <div class="explanation" id="explanation">
            <p><strong>Correct Answer:</strong> 1 key - Revelation 3:7</p>
            <p><strong>Key Details:</strong></p>
            <ul>
                <li>Mentioned in message to Philadelphia church (Rev 3:7-13)</li>
                <li>Symbolizes Christ's absolute authority (Isa 22:22)</li>
                <li>Controls access to God's kingdom</li>
                <li>Fulfills Messianic prophecy about Davidic line</li>
            </ul>
            <p><strong>Key Verse:</strong> "These are the words of him who is holy and true, who holds the key of David. What he opens no one can shut, and what he shuts no one can open." (Revelation 3:7)</p>
            <p><strong>Meaning:</strong> The single key represents Christ's exclusive authority over: (1) Salvation, (2) Divine revelation, (3) Church discipline, and (4) Eternal destiny.</p>
        </div>
        
        <button class="participate-btn" onclick="openYouTubeComment()">Participate in Quiz</button>
    </div>

    <audio id="tickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3" preload="auto"></audio>
    <audio id="timeUpSound" src="https://assets.mixkit.co/sfx/preview/mixkit-alarm-clock-beep-988.mp3" preload="auto"></audio>
    <audio id="keySound" src="https://assets.mixkit.co/sfx/preview/mixkit-metal-hit-1124.mp3" preload="auto"></audio>

    <script>
        let timeLeft = 30;
        let timerInterval;
        let userAnswer = "";
        let isCorrect = false;
        const tickSound = document.getElementById('tickSound');
        const timeUpSound = document.getElementById('timeUpSound');
        const keySound = document.getElementById('keySound');
        
        function startTimer() {
            keySound.play();
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                
                if(timeLeft > 0 && timeLeft <= 10) {
                    tickSound.currentTime = 0;
                    tickSound.play();
                    document.getElementById('timer').style.color = "#ffdd99";
                    document.getElementById('timer').style.animation = "pulse 0.5s infinite alternate";
                }
                
                if(timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timeUpSound.play();
                    keySound.pause();
                    timeUp();
                }
            }, 1000);
        }
        
        function timeUp() {
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            const correctOption = document.querySelector('.option:nth-child(1)');
            correctOption.classList.add('correct');
            correctOption.innerHTML += '<span class="feedback-icon">✅</span>';
            
            document.getElementById('explanation').style.display = 'block';
            document.querySelector('.participate-btn').style.display = 'inline-block';
        }
        
        function checkAnswer(selectedOption, correct) {
            clearInterval(timerInterval);
            keySound.pause();
            isCorrect = correct;
            userAnswer = selectedOption.textContent.trim();
            
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            if(correct) {
                selectedOption.classList.add('correct');
                selectedOption.innerHTML += '<span class="feedback-icon">✅</span>';
            } else {
                selectedOption.classList.add('incorrect');
                selectedOption.innerHTML += '<span class="feedback-icon">❌</span>';
                const correctOption = document.querySelector('.option:nth-child(1)');
                correctOption.classList.add('correct');
                correctOption.innerHTML += '<span class="feedback-icon">✅</span>';
            }
            
            document.getElementById('explanation').style.display = 'block';
            document.querySelector('.participate-btn').style.display = 'inline-block';
        }

        function openYouTubeComment() {
            const videoId = "A8r4gLi7dXE";
            const commentText = `I took the Key of David Quiz! ${isCorrect ? "I got it right ✅" : "My answer was: " + userAnswer + " ❌"}\nThe correct answer is: 1 key (Rev 3:7)\nChrist's exclusive authority\nWhat doors has He opened for you?`;
            
            const youtubeUrl = `https://www.youtube.com/shorts/${videoId}?comment=${encodeURIComponent(commentText)}`;
            const fallbackUrl = `https://www.youtube.com/shorts/${videoId}`;
            
            const youtubeWindow = window.open(youtubeUrl, "_blank");
            
            setTimeout(() => {
                try {
                    if(!youtubeWindow || youtubeWindow.closed) {
                        localStorage.setItem('ytComment', commentText);
                        window.open(fallbackUrl, "_blank");
                    }
                } catch(e) {
                    localStorage.setItem('ytComment', commentText);
                    window.open(fallbackUrl, "_blank");
                }
            }, 500);
        }
        
        window.onload = startTimer;
    </script>
</body>
</html>